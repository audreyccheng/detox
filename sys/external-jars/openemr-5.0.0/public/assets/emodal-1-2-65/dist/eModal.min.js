!function(e){e(["jquery"],function(e,t){function n(e){x.modal(I).find(".modal-content").append(e)}function o(){var t,n;try{n=require("Q")}catch(e){n=window.Q}return n?t=n.defer():(t=e.Deferred(),t.promise=t.promise()),t.promise.element=l(!0).find(E),t}function r(t){if(t===!1)return C;var n=e(k).addClass("modal-footer").prop("id",O);if(t)for(var o=0,r=t.length;o<r;o++){var a=t[o],s=e("<button>").addClass("btn btn-"+(a.style||"primary"));for(var i in a)if(a.hasOwnProperty(i))switch(i){case"close":a[i]&&s.attr("data-dismiss","modal").addClass("x");break;case z:var d=a.click.bind(l(!0).find(".modal-content"));s.click(d);break;case"text":s.html(a[i]);break;default:s.attr(i,a[i])}n.append(s)}else n.append('<button class="x btn btn-primary" data-dismiss=modal type=button>Close</button>');return n}function a(t){var n,o=t.loading?D.loadingHtml:t.message||t;return o.on||o.onclick?(n=t.clone===!0?e(o).clone():e(o),n.addClass(t.useBin&&!t.loading?K:A)):n=e(k).attr("style","position:relative;word-wrap:break-word;").addClass(B).html(o),t.css&&t.css!==n.css&&n.css(t.css),n}function l(t){function n(){return e('<div class="modal fade" tabindex="-1"><style>.modal-xl{width:96%;}.modal-body{max-height: calc(100vh - 145px);overflow-y: auto;}</style><div class=modal-dialog><div class=modal-content> <div class=modal-header><button type=button class="x close" data-dismiss=modal><span aria-hidden=true>&times;</span><span class=sr-only>Close</span></button><h4 class=modal-title></h4></div></div></div></div>').on("hidden.bs.modal",s).on(z,"button.x",function(t){var n=e(t.currentTarget);if(n.prop("type")!==L)return x.modal(j);try{if(n.closest("form")[0].checkValidity())return g()}catch(e){return g()}return x})}return x||(e("#"+w).length||e("body").append(e(k).prop("id",w).hide()),x=n()),t&&x?x:x.on(H,function(){e(this).find(q).first().focus()})}function s(){if(x){var e=x.find("."+K).removeClass(K).appendTo("#"+w);x.off(T).off(H).find(".modal-content > div:not(:first-child)").remove(),D.allowContentRecycle&&!M.clone||e.remove()}}function i(t,n){if(!t)throw new Error("Invalid parameters!");s(),M=t;var o=l();o.find(E).removeClass("modal-sm modal-lg modal-xl").addClass(t.size?"modal-"+t.size:D.size),o.find(".modal-title").html((t.title||n||D.title)+" ").append(e("<small>").html(t.subtitle||C)),o.on(T,t.onHide)}function d(e,t){F[e]=t}function c(t,n){function r(e){return x.find("."+B).html(t.success?t.success(e):e),l.resolve(x)}function a(e,n){var o=t.error?t.error(e,n,s):'<div class="alert alert-danger"><strong>XHR Fail: </strong>URL [ '+s.url+"] load fail.</div>";return x.find("."+B).html(o),l.reject(e)}var l=o(),s={async:!0,deferred:l,loading:!0,title:t.title||n||D.title,url:t.url||t,dataType:t.dataType||"text"};return t.url&&e.extend(s,t),e.ajax(s).done(r).fail(a),u(s,n)}function u(t,l){i(t,l);var s=t.deferred||o(),d=e(k).append(a(t),r(t.buttons));return n(d),t.async||x.on(H,s.resolve),s.promise}function f(t,n){function r(t){g();var n=e(t.currentTarget).html();return F[n]?a.resolve():a.reject()}var a=o();return u({async:!0,buttons:[{close:!0,click:r,text:F[t.label]?F[t.label]:F[D.confirmLabel],style:t.style&&t.style[0]||R},{close:!0,click:r,text:F[t.label]?t.label:D.confirmLabel,style:t.style&&t.style[1]}],deferred:a,message:t.message||t,onHide:r,size:t.size,title:t.title||n})}function m(t,n){function r(){return e(this).parent().find("div."+A).fadeOut(function(){e(this).remove()}),a.resolve()}var a=o(),l='<div class=modal-body style="position: absolute;width: 100%;background-color: rgba(255,255,255,0.8);height: 100%;">%1%</div><iframe class="embed-responsive-item" frameborder=0 src="%0%" style="width:100%;height:75vh;display:block;"/>'.replace("%0%",t.message||t.url||t).replace("%1%",D.loadingHtml),s=e(l).load(r);return u({async:!0,buttons:t.buttons||!1,deferred:a,message:s,size:t.size||Q.xl,title:t.title||n})}function p(){return e("#"+w+" > *").remove()}function v(t,n){function a(e){var t=x.find(q).val();return g(),e.type!==L?l.reject(t):l.resolve(t),!1}var l=o(),s={deferred:l};if("object"==typeof t?e.extend(s,t):(s.message=t,s.title=n),s.async=!0,s.buttons)for(var i,d=0,c=s.buttons.length;d<c;d++)i=s.buttons[d],i.style=(i.style||"default")+" pull-left",i.type=i.type||"button";var f=r([{close:!0,type:"reset",text:F.OK,style:R},{close:!1,type:L,text:D.confirmLabel}].concat(s.buttons||[]));return s.buttons=!1,s.onHide=a,s.message=e('<form role=form style="margin-bottom:0;"><div class=modal-body><label for=prompt-input class=control-label>'+(s.message||C)+'</label><input type=text class=form-control required autocomplete="on" value="'+(s.value||C)+(s.pattern?'" pattern="'+s.pattern:C)+'"></div></form>').append(f).on(L,a),u(s)}function b(e){l(!0).find(E).prop("id",e)}function y(t){return e.extend(D,t)}function h(t){return x&&x.remove(),e.extend(I,t)}function g(){return x&&x.off(T).modal(j),x}var x,w="recycle-bin",k="<div>",C="",z="click",j="hide",H="shown.bs.modal",L="submit",O="eFooter",T=j+".bs.modal",q="input",R="danger",F={OK:"Cancel",True:"False",Yes:"No"},M={},B="modal-body",E=".modal-dialog",I={},K="modal-rec",Q={sm:"sm",lg:"lg",xl:"xl"},A="modal-tmp",D={allowContentRecycle:!0,confirmLabel:Object.keys(F)[0],labels:F,loadingHtml:'<h5>Loading...</h5><div class=progress><div class="progress-bar progress-bar-striped active" style="width: 100%"></div></div>',size:C,title:"Attention"};return t.addLabel=d,t.ajax=c,t.alert=u,t.close=g,t.confirm=f,t.emptyBin=p,t.iframe=m,t.prompt=v,t.setId=b,t.setEModalOptions=y,t.setModalOptions=h,t.size=Q,t.version="1.2.65",t})}("function"==typeof define&&define.amd?define:function(e,t){this.eModal="undefined"!=typeof module&&module.exports?t(require(e[0]),module.exports):t(window.$,{})});